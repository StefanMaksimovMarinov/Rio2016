@using MVCBlog.Classes;
@using MVCBlog.Models;

@model List<MVCBlog.Models.Photoalbum>

@{
    ViewBag.Title = "Фотоалбум";
}

<body class="body-posts">
    <h2>Фотоалбум</h2>

    <p>
        @Html.ActionLink("Добави снимкa", "Create")
    </p>

    <table>
        @{
            int j = 0;
            for (int i = 0; i < Model.Count(); i += 4)
            {
                j = i;
                <tr>
                    @while (j < i + 4 && j < Model.Count())
                    {
                        <td>
                            <img src="data:image/png;base64,@Convert.ToBase64String(Model[j].ImageData, 0, Model[j].ImageData.Length) " width="200" height="200" />
                        <br />
                        @Html.ActionLink("Преглед", "View", new { id = Model[j].ImageId }) |
                        @Html.ActionLink("Изтрий", "Delete", new { id = Model[j].ImageId })
                        </td>
                        j++;
                    }
                </tr>
            }
        }
    </table>
</body>